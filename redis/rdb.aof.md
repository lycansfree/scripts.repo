## RDB快照（snapshot）模式
- 通过fork子进程，将数据集写入临时文件，成功后再对rdb文件进行替换，且采用二进制压缩
- 子进程所需内存与主进程相同，和数据集大小相关，需要合理规划数据集大小与主进程内存控制

#### 优点
- 容易备份，rdb是单独的一个文件，且方便迁移
- 主进程继续提供服务，子进程单独进行磁盘的写入操作
- 故障恢复启动时，rdb较快

#### 缺点
- 类似突然断电这种故障发生时，不能保证所有数据都已落入磁盘，从配置中也可以看出，RDB模式写磁盘需要固定的周期判断
- 对于非常大的数据集，fork子进程可能会造成服务器暂时无法提供服务，这个是根据服务器的性能情况而定的


## AOF操作记录模式
- 通过记录所有的增、删、改操作（查询操作不记录）到文本中，进行数据保存
- 拥有rewrite机制，可以对一些操作进行合并，如incr 100次，则rewrite成set 100

#### 优点
- 有更高的数据安全性，当发生意外时，数据完整性更高
- 即使执行诸如flushall这样的操作，只要把aof文件中的flushall删除，重启server，还是可以重建整个DB

#### 缺点
- AOF可能会触发BUG，导致文件不可用，使用redis-check-aof --fix进行修复
- 根据追加策略不同，性能上较RDB模式要损失一些
- AOF的文件会比RDB要大
